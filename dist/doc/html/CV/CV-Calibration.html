<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CV.Calibration</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_CV-Calibration.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">CV-0.3.5.3: OpenCV based machine vision library</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Infered</td></tr></table><p class="caption">CV.Calibration</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Finding chessboard calibration rig
</a></li><li><a href="#g:2">Visualization
</a></li><li><a href="#g:3">Camera calibration
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module exposes opencv functions for camera calibration using a chessboard rig. This module follows opencv quite closely and the best documentation
   is probably found there. As quick example however, the following program detects and draws chessboard corners from an image.
</p><pre>
 module Main where
 import CV.Image
 import CV.Calibration

main = do
     Just i &lt;- loadColorImage &quot;chess.png&quot;
     let corners = findChessboardCorners (unsafeImageTo8Bit i) (4,5) (FastCheck:defaultFlags)
     let y = drawChessboardCorners (unsafeImageTo8Bit i) (4,5) corners
     mapM_ print (corners)
     saveImage &quot;found_chessboard.png&quot; y
</pre></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:FindFlags">FindFlags</a> <ul class="subs"><li>= <a href="#v:AdaptiveThresh">AdaptiveThresh</a>  </li><li>| <a href="#v:NormalizeImage">NormalizeImage</a>  </li><li>| <a href="#v:FilterQuads">FilterQuads</a>  </li><li>| <a href="#v:FastCheck">FastCheck</a>  </li></ul></li><li class="src short"><a href="#v:defaultFlags">defaultFlags</a> :: [<a href="CV-Calibration.html#t:FindFlags">FindFlags</a>]</li><li class="src short"><a href="#v:findChessboardCorners">findChessboardCorners</a> :: <a href="CV-Image.html#t:Image">Image</a> <a href="CV-Image.html#t:RGB">RGB</a> <a href="CV-Image.html#t:D8">D8</a> -&gt; (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) -&gt; [<a href="CV-Calibration.html#t:FindFlags">FindFlags</a>] -&gt; [(<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>)]</li><li class="src short"><a href="#v:refineChessboardCorners">refineChessboardCorners</a> :: <a href="CV-Image.html#t:Image">Image</a> <a href="CV-Image.html#t:GrayScale">GrayScale</a> <a href="CV-Image.html#t:D8">D8</a> -&gt; [(<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>)] -&gt; (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) -&gt; (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) -&gt; [(<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>)]</li><li class="src short"><a href="#v:drawChessboardCorners">drawChessboardCorners</a> :: <a href="CV-Image.html#t:Image">Image</a> <a href="CV-Image.html#t:RGB">RGB</a> <a href="CV-Image.html#t:D8">D8</a> -&gt; (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) -&gt; [(<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>)] -&gt; <a href="CV-Image.html#t:Image">Image</a> <a href="CV-Image.html#t:RGB">RGB</a> <a href="CV-Image.html#t:D8">D8</a></li><li class="src short"><a href="#v:calibrateCamera2">calibrateCamera2</a> :: [[((<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>), (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>))]] -&gt; (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) -&gt; <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:IO">IO</a> (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Double">Double</a>, <a href="CV-Matrix.html#t:Matrix">Matrix</a> <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, [[<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>]], [[<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>]], [[<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>]])</li></ul></div><div id="interface"><h1 id="g:1">Finding chessboard calibration rig
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:FindFlags" class="def">FindFlags</a>  </p><div class="doc"><p>&#160;Flags for the chessboard corner detector. See opencv documentation for cvFindChessboardCorners.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:AdaptiveThresh" class="def">AdaptiveThresh</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:NormalizeImage" class="def">NormalizeImage</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FilterQuads" class="def">FilterQuads</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:FastCheck" class="def">FastCheck</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:FindFlags" class="caption collapser" onclick="toggleSection('i:FindFlags')">Instances</p><div id="section.i:FindFlags" class="show"><table><tr><td class="src"><a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Enum">Enum</a> <a href="CV-Calibration.html#t:FindFlags">FindFlags</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:defaultFlags" class="def">defaultFlags</a> :: [<a href="CV-Calibration.html#t:FindFlags">FindFlags</a>]</p><div class="doc"><p>Default flags for finding corners
</p></div></div><div class="top"><p class="src"><a name="v:findChessboardCorners" class="def">findChessboardCorners</a> :: <a href="CV-Image.html#t:Image">Image</a> <a href="CV-Image.html#t:RGB">RGB</a> <a href="CV-Image.html#t:D8">D8</a> -&gt; (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) -&gt; [<a href="CV-Calibration.html#t:FindFlags">FindFlags</a>] -&gt; [(<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>)]</p><div class="doc"><p>Find the inner corners of a chessboard in a given image. 
</p></div></div><div class="top"><p class="src"><a name="v:refineChessboardCorners" class="def">refineChessboardCorners</a> :: <a href="CV-Image.html#t:Image">Image</a> <a href="CV-Image.html#t:GrayScale">GrayScale</a> <a href="CV-Image.html#t:D8">D8</a> -&gt; [(<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>)] -&gt; (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) -&gt; (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) -&gt; [(<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>)]</p><div class="doc"><p>Given an estimate of chessboard corners, provide a subpixel estimation of actual corners.
</p></div></div><h1 id="g:2">Visualization
</h1><div class="top"><p class="src"><a name="v:drawChessboardCorners" class="def">drawChessboardCorners</a> :: <a href="CV-Image.html#t:Image">Image</a> <a href="CV-Image.html#t:RGB">RGB</a> <a href="CV-Image.html#t:D8">D8</a> -&gt; (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) -&gt; [(<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>)] -&gt; <a href="CV-Image.html#t:Image">Image</a> <a href="CV-Image.html#t:RGB">RGB</a> <a href="CV-Image.html#t:D8">D8</a></p><div class="doc"><p>&#160;Draw the found chessboard corners to an image
</p></div></div><h1 id="g:3">Camera calibration
</h1><div class="top"><p class="src"><a name="v:calibrateCamera2" class="def">calibrateCamera2</a> :: [[((<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>), (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>))]] -&gt; (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>, <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Data-Int.html#t:Int">Int</a>) -&gt; <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/System-IO.html#t:IO">IO</a> (<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Double">Double</a>, <a href="CV-Matrix.html#t:Matrix">Matrix</a> <a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>, [[<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>]], [[<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>]], [[<a href="/usr/local/stow/ghc-7.4.1/share/doc/ghc/html/libraries/base-4.5.0.0/Prelude.html#t:Float">Float</a>]])</p><div class="doc"><p>&#160;See opencv function cvCalibrateCamera2. This function takes a list of world-screen coordinate pairs acquired with find-chessboard corners
   and attempts to find the camera parameters for the system. It returns the fitting error, the camera matrix, list of distortion co-efficients
   and rotation and translation vectors for each coordinate pair. 
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.10.0</p></div></body></html>